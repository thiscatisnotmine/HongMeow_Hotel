<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login - HongMeow Hotel</title>
  <link href="login.css" rel="stylesheet" />

  
  <script src="login.js" defer></script>
</head>
<body>
  <div class="container">
    <!-- Left Side -->
    <div class="left-side">
      <div class="logo"></div>
      <h2 class="welcome-text">Hong! Meow! Welcome</h2>
      <p class="subtext">The room management system is ready.</p>
      
    </div>

    <!-- Right Side -->
    <div class="right-side">
      <p class="password-text">
        Dear staff,<br> 
        enter your password here!
      </p>

        <form id="login-form">
          <!-- Username Field -->
          <div class="input-field username-box">
            <img src="../Picture/username-icon.png" alt="User Icon" width="24" height="24" />
            <input type="text" id="username" placeholder="Username" required />
      </div>

      <!-- Password Field -->
      <div class="input-field password-box">
        <img src="../Picture/lock-icon.png" alt="Lock Icon" width="24" height="24" />
        <input type="password" id="password" placeholder="Password" required />
        <img src="../Picture/eye-closed.png" alt="Eye Icon" width="24" height="24" onclick="togglePasswordVisibility()" class="eye-icon" />
    </div>

  <!-- Login Button -->
  <button class="btn-login" type="submit" onclick="login()">LOGIN</button>
  <p id="error-msg" style="color: red; display: none;">Invalid username or password.</p>
</form>

        <p id="error-msg" style="color: red; display: none;">Invalid username or password.</p>
      </div>
    </div>
  </div>

  <script>
    document.getElementById("login-form").addEventListener("submit", function (e) {
      e.preventDefault();

      const username = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value.trim();

      const staffAccounts = [
        { username: "admin", password: "1234", role: "admin" },
        { username: "staff", password: "0000", role: "receptionist" }
      ];

      const user = staffAccounts.find(
        (acc) => acc.username === username && acc.password === password
      );

      if (user) {
        localStorage.setItem("loggedInUser", JSON.stringify(user));
        window.location.href = "./home.html"; // ไปหน้า home หลัง login สำเร็จ
      } else {
        document.getElementById("error-msg").style.display = "block";
      }
    });

    function togglePasswordVisibility() {
      const passwordField = document.getElementById("password");
      const eyeIcon = document.querySelector(".eye-icon");
      if (passwordField.type === "password") {
        passwordField.type = "text";
        eyeIcon.src = "../Picture/eye-open.png"; // เปลี่ยนเป็นไอคอนเปิดตา
      } else {
        passwordField.type = "password";
        eyeIcon.src = "../Picture/eye-closed.png"; // เปลี่ยนเป็นไอคอนปิดตา
      }
    }
  </script>
</body>
</html>